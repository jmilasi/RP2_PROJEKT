<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>jsDatePick Javascript example</title>
	<link rel="stylesheet" type="text/css" media="all"
		href="jsDatePick_ltr.min.css" />
	<script type="text/javascript" src="jsDatePick.min.1.3.js"></script>
	<script src="jquery-2.1.4.min.js">
	</script>

	<style type="text/css">
		#calendar {
			margin: 10px 0 30px 0;
			border-width: 1px;
			border-style: dashed;
			border-color: black;
			width: 205px;
			height: 230px;
		}
		table, td {
			border-width: 5px;
			border-style: solid;
			border-color: black;
		}
		table {
			width: 90%;
		}
		td {
			height: 50px;
			text-align: center;
			font-size: 18pt;
		}
		td:hover {
			background-color: aqua;
		}
	</style>

</head>

<body>   
    <div id="calendar"></div>

    <table id="predavaonice" align="center" style="visibility: hidden";>
    	<tr><td>001</td><td>002</td><td>003</td></tr>
    	<tr><td>004</td><td>005</td><td>006</td></tr>
    	<tr><td>110</td><td>201</td><td>A101</td></tr>
    </table>

    <table id="raspored" align="center" style="visibility: hidden">
    </table>

    <script type="text/javascript">
		$(document).ready(function() {
			var date, room;

	    	globalObject = new JsDatePick({
				useMode: 1,
				isStripped: true,
				target: "calendar"
			});

	    	globalObject.setOnSelectedDelegate(function() {
				var obj = globalObject.getSelectedDay();
				date = obj.day + "." + obj.month + "." + obj.year + ".";
				var predavaonice = document.getElementById("predavaonice");
				predavaonice.style.visibility = "visible";			
				
				tds = document.getElementsByTagName("td");
				for (var i = 0; i < tds.length; ++i)
					tds[i].onclick = function() {
						room = this.innerHTML;
						alert("Datum: " + date + "\n" + "Predavaonica: " +
							room);
					};

				var fil = {datum: date, predavaonica: room};
				$.ajax("raspored.php", {
				    type: "POST",
			    	contentType: "application/json",
				    data: JSON.stringify(fil),
				    success: function(data) {
				    	$("#raspored").text("");
			    		$("#raspored").append(
			    			"<tr><th>SAT</th>" +
			    			"<th>IME KOLEGIJA</th>" +
			    			"<th>PREDAVAÄŒ</th>" +
			    			"<th>DOZVOLA MIJENJANJA</th></tr>");
			    		
			    		var sat = 8;

			    		for (var i = 0; i < data.length; ++i) {
			    			while (sat < data[i].sat) {
			    				$("#raspored").append(
				    				"<tr><td>" + sat + 
				    				"</td><td>" + "-" +
				    				"</td><td>" + "-" +
				    				"</td><td>" + "0" +
				    				"</td></tr>");
			    				++sat;
			    			}

		    				$("#raspored").append(
			    				"<tr><td>" + data[i].SAT + 
			    				"</td><td>" + data[i].IME_KOLEGIJA +
			    				"</td><td>" + data[i].PREDAVAC +
			    				"</td><td>" + data[i].DOZVOLA +
			    				"</td></tr>");
		    				++sat;
				    	}

				    	$("#raspored").style.visibility = "visible";
				    }
		    	});
			});
		});
	</script>
</body>

</html>